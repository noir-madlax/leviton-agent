# Chart Agent 演示说明

## 🎯 项目概述

Chart Agent 是一个基于 Next.js 的智能数据可视化助手，通过自然语言对话生成动态图表。

## 🚀 当前实现的功能

### ✅ 已完成功能

1. **响应式布局**
   - 左右分栏设计
   - 可拖拽调整面板大小
   - 现代化 UI 界面

2. **智能聊天界面**
   - 自然语言输入
   - 实时消息显示
   - 加载状态提示
   - 错误处理

3. **动态图表生成**
   - 支持折线图、柱状图、饼图
   - 基于用户问题智能选择图表类型
   - 实时编译和渲染

4. **安全代码执行**
   - 代码安全性验证
   - 沙箱环境执行
   - 错误处理和回退

5. **Mock API 系统**
   - 模拟 LLM 响应
   - 多种图表模板
   - 智能关键词匹配

## 🎮 使用演示

### 1. 启动应用
```bash
npm run dev
```
访问 http://localhost:3000

### 2. 测试示例

在左侧聊天框中输入以下问题：

#### 折线图示例
- "显示最近6个月的销售趋势"
- "展示时间变化情况"
- "分析数据趋势"

#### 柱状图示例  
- "对比各产品的销售表现"
- "比较不同产品的数据"
- "产品销售对比分析"

#### 饼图示例
- "分析用户设备类型分布"
- "显示数据占比情况"
- "展示比例分布"

### 3. 界面操作

- **发送消息**: 输入问题后按 Enter 或点击发送按钮
- **调整布局**: 拖拽中间分割线调整左右面板大小
- **查看图表**: 右侧会自动显示生成的图表和分析

## 🔧 技术特点

### 动态代码编译
- 使用 `@babel/standalone` 在浏览器中编译 JSX
- 支持 React 组件动态生成
- 安全的代码执行环境

### 状态管理
- React Context API 管理全局状态
- 图表数据、编译状态、错误处理
- 响应式状态更新

### UI 组件
- shadcn/ui 现代化组件库
- Tailwind CSS 样式系统
- Recharts 图表库

## 📊 Mock 数据示例

当前系统包含三种预设图表：

1. **销售趋势图** - 6个月销售和利润数据
2. **产品对比图** - 5个产品的销售表现
3. **设备分布图** - 用户设备类型占比

## 🔮 下一步开发

1. **集成真实 LLM API**
   - OpenAI GPT-4
   - Anthropic Claude
   - 自定义 Prompt 优化

2. **数据源集成**
   - CSV 文件上传
   - 数据库连接
   - API 数据获取

3. **图表功能增强**
   - 更多图表类型
   - 自定义样式
   - 交互功能
   - 导出功能

4. **用户体验优化**
   - 图表历史记录
   - 数据持久化
   - 用户认证
   - 多语言支持

## 🎯 演示重点

1. **自然语言理解**: 展示如何通过简单的中文问题生成复杂图表
2. **实时渲染**: 展示从问题到图表的完整流程
3. **安全执行**: 展示代码安全性验证机制
4. **响应式设计**: 展示界面的适配性和交互性

## 📝 技术亮点

- **零配置图表生成**: 无需预定义图表类型
- **动态代码执行**: 浏览器端安全编译
- **智能类型推断**: 根据问题自动选择图表类型
- **现代化架构**: Next.js 14 + TypeScript + shadcn/ui

这个演示展示了一个完整的 AI 驱动的数据可视化解决方案的核心功能和技术实现。 